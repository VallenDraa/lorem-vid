<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<link rel="stylesheet" href="styles.css" />
		<meta
			name="description"
			content="the missing straight forward video placeholder api you always wanted."
		/>
		<link rel="shortcut icon" href="favicon.ico" type="image/x-icon" />
		<script
			src="https://unpkg.com/alpinejs@3.13.8/dist/cdn.min.js"
			defer
		></script>
		<title>lorem vid.</title>
	</head>
	<body class="font-medium bg-slate-950 overflow-x-hidden font-mono">
		<div
			class="absolute inset-x-0 -top-40 -z-10 transform-gpu overflow-hidden blur-3xl sm:-top-80"
			aria-hidden="true"
		>
			<div
				class="relative right-0 bottom-0 aspect-[1155/678] w-[40rem] -slate-x-1/2 rotate-[30deg] bg-gradient-to-tr from-slate-600 to-blue-900 opacity-30 sm:left-[calc(50%-45rem)] sm:w-[90rem]"
				style="
					clip-path: polygon(
						74.1% 44.1%,
						100% 61.6%,
						97.5% 26.9%,
						85.5% 0.1%,
						80.7% 2%,
						72.5% 32.5%,
						60.2% 62.4%,
						52.4% 68.1%,
						47.5% 58.3%,
						45.2% 34.5%,
						27.5% 76.7%,
						0.1% 64.9%,
						17.9% 100%,
						27.6% 76.8%,
						76.1% 97.7%,
						74.1% 44.1%
					);
				"
			></div>
		</div>

		<div
			class="p-4 relative z-10 flex flex-col border-t-8 border-slate-700 min-h-screen"
		>
			<div
				class="mx-auto w-full max-w-screen-lg grow flex flex-col md:flex-row gap-8 md:justify-between justify-center md:items-center"
			>
				<section>
					<h1 class="text-4xl md:text-7xl font-extrabold mb-2 text-slate-300">
						lorem vid.
					</h1>
					<p class="md:text-lg text-slate-500">
						the missing straight forward video placeholder api you always wanted
						<span class="inline md:hidden">👇🏼</span>
						<span class="hidden md:inline">👉🏼</span>
					</p>
				</section>

				<section
					class="space-y-4 md:max-w-[50%]"
					x-data='{ 
						searchQuery: "",
						siteDomain: "<%= siteDomain %>",
						codeSnippet: `<video src="<%= siteDomain %>/videos"></video>`
					}'
				>
					<form
						x-on:submit="event.preventDefault()"
						class="flex flex-row items-center gap-2"
					>
						<input
							type="text"
							x-model="searchQuery"
							class="bg-slate-800/70 border border-slate-700 shadow-md shadow-slate-900 rounded-lg w-full md:w-auto py-2 px-5 text-slate-400 placeholder:text-slate-500 basis-3/4 grow"
							placeholder="search video..."
						/>
						<button
							x-on:click='
								const newUrl = searchQuery ? `/videos?search=${searchQuery}`: `/videos`;

								$refs.videoPlayer.src = newUrl;
								codeSnippet = `<video src="${siteDomain}${newUrl}"></video>`;								
							'
							class="bg-slate-800/70 border border-slate-700 shadow-md shadow-slate-900 hover:bg-slate-700/70 active:bg-slate-800/70 transition rounded-lg py-2 px-5 text-slate-400"
						>
							search
						</button>
					</form>

					<video
						x-ref="videoPlayer"
						src="/videos"
						autoplay
						controls
						loop
						muted
						class="min-w-full aspect-video md:w-[640px] bg-slate-950 border border-slate-700 rounded-lg shadow-2xl shadow-slate-900"
					></video>

					<button
						x-text="codeSnippet"
						x-on:click="
							navigator.clipboard.writeText(codeSnippet);
							$el.textContent = 'copied!';
							setTimeout(() => $el.textContent = codeSnippet, 1500);
						"
						title="click to copy the code snippet"
						class="w-full py-2 px-4 bg-slate-700/70 border border-slate-600 backdrop-blur-md shadow-md shadow-slate-800 rounded-full text-center text-sm mt-2 text-slate-400 cursor-pointer max-w-full truncate"
					></button>
				</section>
			</div>

			<p
				class="md:w-max mx-auto py-1 px-4 bg-slate-800/70 border border-slate-700 backdrop-blur-md shadow-md shadow-slate-900 rounded-full text-center text-sm mt-4 text-slate-500"
			>
				powered by
				<a
					href="https://coverr.co"
					target="_blank"
					class="text-slate-400 hover:underline underline-offset-2 transition hover:rotate-3 transform"
				>
					coverr.co</a
				>
				and
				<a
					href="https://www.shutterstock.com"
					target="_blank"
					class="text-slate-400 hover:underline underline-offset-2 transition hover:rotate-3 transform"
				>
					shutterstock</a
				>, made with ☕ by
				<a
					href="https://vallendra.my.id"
					target="_blank"
					class="text-slate-400 hover:underline underline-offset-2 transition hover:rotate-3 transform"
				>
					vallendra</a
				>
			</p>
		</div>

		<div aria-hidden="true" class="flex flex-col gap-2 fixed bottom-0 right-0">
			<% for( let i = 0; i < 3; i++ ) { // Loop the video list %>
			<ul class="flex items-center gap-4 justify-end blur-md">
				<% for( let j = 0; j < 3 + i; j++ ) { // Loop the video items %>
				<li class="w-48 aspect-video relative">
					<img
						src="https://picsum.photos/seed/<%= Math.round(Math.random() * 400) %>/640/360"
						class="min-w-full opacity-60 bg-transparent rounded-lg aspect-video"
					/>

					<div class="absolute inset-0 bg-slate-950/40"></div>
				</li>
				<% } %>
			</ul>
			<% } %>
		</div>
	</body>
</html>
